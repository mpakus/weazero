[1;33m[   5.2ms] r.db_create("weazero_development")[0m
[1;33m[1283.8ms] r.table_create("weathers", {"primary_key" => :id})[0m
[1;31m[   3.6ms] r.table("weathers").insert( {"temp" => {"current" => 1.22, "min" => -1.11, "max" => 6}, "wind" => {"speed" => nil, "deg" => nil}, "opnw_id" => 4930956, "name" => "Boston", "id" => "1fQwmaLC9y7oEq"})[0m
[1;31m[  27.2ms] r.table("weathers").insert( {"temp" => {"current" => 0.33, "min" => -1.67, "max" => 1.11}, "wind" => {"speed" => nil, "deg" => nil}, "opnw_id" => 5128581, "name" => "New York", "id" => "1fQwn8G8jArzfE"})[0m
[1;32m[  13.5ms] r.table("weathers").order_by({"index" => r.asc(:id)})[0m
[1;31m[   5.7ms] r.table("weathers").insert( {"temp" => {"current" => 1.22, "min" => -1.11, "max" => 6}, "wind" => {"speed" => nil, "deg" => nil}, "opnw_id" => 4930956, "name" => "Boston", "id" => "1fQz2yVcuujgFA"})[0m
[1;31m[   0.9ms] r.table("weathers").insert( {"temp" => {"current" => 0.33, "min" => -1.67, "max" => 1.11}, "wind" => {"speed" => nil, "deg" => nil}, "opnw_id" => 5128581, "name" => "New York", "id" => "1fQz2yVmazt39Q"})[0m
[1;31m[   5.7ms] r.table("weathers").insert( {"temp" => {"current" => 1.22, "min" => -1.11, "max" => 6}, "wind" => {"speed" => nil, "deg" => nil}, "opnw_id" => 4930956, "name" => "Boston", "id" => "1fQz51hmnztOlz"})[0m
[1;31m[   0.8ms] r.table("weathers").insert( {"temp" => {"current" => 0.33, "min" => -1.67, "max" => 1.11}, "wind" => {"speed" => nil, "deg" => nil}, "opnw_id" => 5128581, "name" => "New York", "id" => "1fQz51hwU52lgF"})[0m
[1;32m[   8.2ms] r.table("weathers").order_by({"index" => r.asc(:id)})[0m
[1;32m[   3.4ms] r.table("weathers").order_by({"index" => r.asc(:id)})[0m
[1;32m[   4.9ms] r.table("weathers").count[0m
[1;32m[   1.6ms] r.table("weathers").count[0m
[1;32m[   1.2ms] r.table("weathers").count[0m
[1;32m[   1.6ms] r.table("weathers").count[0m
[1;32m[   1.7ms] r.table("weathers").count[0m
[1;32m[   1.5ms] r.table("weathers").order_by({"index" => r.asc(:id)})[0m
[1;31m[   5.4ms] r.table("weathers").get("1fQwmaLC9y7oEq").delete[0m
[1;31m[   0.8ms] r.table("weathers").get("1fQwn8G8jArzfE").delete[0m
[1;31m[   0.8ms] r.table("weathers").get("1fQz2yVcuujgFA").delete[0m
[1;31m[   1.0ms] r.table("weathers").get("1fQz2yVmazt39Q").delete[0m
[1;31m[   0.9ms] r.table("weathers").get("1fQz51hmnztOlz").delete[0m
[1;31m[   0.8ms] r.table("weathers").get("1fQz51hwU52lgF").delete[0m
[1;32m[   1.2ms] r.table("weathers").count[0m
[1;32m[   1.2ms] r.table("weathers").count[0m
[1;32m[   1.2ms] r.table("weathers").count[0m
[1;32m[   1.1ms] r.table("weathers").count[0m
[1;32m[   1.3ms] r.table("weathers").count[0m
[1;32m[   1.5ms] r.table("weathers").count[0m
[1;32m[   4.3ms] r.table("weathers").order_by({"index" => r.asc(:id)}).filter {|var_1| var_1.bracket(:opnw_id).eq(4930956)}.limit(1)[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m
[1;32m[   2.3ms] r.table("weathers").count[0m
[1;32m[   1.5ms] r.table("weathers").count[0m
[1;32m[  10.5ms] r.table("weathers").get_all(4930956, {"index" => :opnw_id}).order_by( r.asc(:id)).limit(1)[0;39m -- [0;31mRethinkDB::RqlRuntimeError Index `opnw_id` was not found on table `weazero_development.weathers`.[0m
[1;32m[   3.5ms] r.table("weathers").count[0m
[1;32m[   1.5ms] r.table("weathers").count[0m
[1;32m[   1.8ms] r.table("weathers").order_by({"index" => r.asc(:id)})[0m
[1;32m[   1.6ms] r.table("weathers").order_by({"index" => r.asc(:id)})[0m
[1;32m[   6.9ms] r.table("weathers").get_all(4930956, {"index" => :opnw_id}).order_by( r.asc(:id)).limit(1)[0;39m -- [0;31mRethinkDB::RqlRuntimeError Index `opnw_id` was not found on table `weazero_development.weathers`.[0m
[1;33m[   4.9ms] r.table("weathers").index_status[0m
[1;33m[   1.0ms] r.table("weathers").index_create(:opnw_id) {|var_1| var_1.bracket(:opnw_id)}[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m
[1;32m[   5.7ms] r.table("weathers").get_all(4930956, {"index" => :opnw_id}).order_by( r.asc(:id)).limit(1)[0;39m -- [0;31mRethinkDB::RqlRuntimeError Index `opnw_id` was not found on table `weazero_development.weathers`.[0m
[1;33m[   2.2ms] r.table("weathers").index_status[0m
[1;33m[   1.1ms] r.table("weathers").index_status[0m
[1;33m[   1.8ms] r.table("weathers").index_create(:opnw_id) {|var_1| var_1.bracket(:opnw_id)}[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m
[1;33m[1223.1ms] r.table_create("weathers", {"primary_key" => :id})[0m
[1;32m[   2.7ms] r.table("weathers").get_all(4930956, {"index" => :opnw_id}).order_by( r.asc(:id)).limit(1)[0;39m -- [0;31mRethinkDB::RqlRuntimeError Index `opnw_id` was not found on table `weazero_development.weathers`.[0m
[1;33m[   6.1ms] r.table("weathers").index_status[0m
[1;33m[   1.0ms] r.table("weathers").index_create(:opnw_id) {|var_1| var_1.bracket(:opnw_id)}[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m
[1;33m[   8.5ms] r.table("weathers").index_status[0m
[1;33m[   3.3ms] r.table("weathers").index_create(:opnw_id) {|var_1| var_1.bracket(:opnw_id)}[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.5330ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>4930956}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 26.7440ms
  MOPED: 127.0.0.1:27017 INSERT       database=weazero_development collection=weathers documents=[{"_id"=>BSON::ObjectId('54f8568b614f4da5f2000000'), "temp"=>{:current=>1.17, :min=>-1.11, :max=>6}, "wind"=>{:speed=>nil, :deg=>nil}, "opnw_id"=>4930956, "name"=>"Boston"}] flags=[]
                         COMMAND      database=weazero_development command={:getlasterror=>1, :w=>1} runtime: 297.0570ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>5128581}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 6.5510ms
  MOPED: 127.0.0.1:27017 INSERT       database=weazero_development collection=weathers documents=[{"_id"=>BSON::ObjectId('54f8568b614f4da5f2010000'), "temp"=>{:current=>0.32, :min=>-1.67, :max=>1.11}, "wind"=>{:speed=>nil, :deg=>nil}, "opnw_id"=>5128581, "name"=>"New York"}] flags=[]
                         COMMAND      database=weazero_development command={:getlasterror=>1, :w=>1} runtime: 0.5700ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 2.0420ms
  MOPED: 127.0.0.1:27017 COMMAND      database=weazero_development command={:count=>"weathers", :query=>{}} runtime: 2.9600ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.8320ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>4930956}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 2.4350ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>5128581}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5200ms
  MOPED: 127.0.0.1:27017 COMMAND      database=weazero_development command={:count=>"weathers", :query=>{}} runtime: 0.5800ms


Started GET "/" for 127.0.0.1 at 2015-03-05 20:42:11 +0700
Processing by WeatherController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 26ms (Views: 16.0ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:42:45 +0700
Processing by WeatherController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:43:14 +0700
Processing by WeatherController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 29ms (Views: 27.2ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:43:27 +0700
Processing by WeatherController#index as HTML
  Rendered inline template (4.1ms)
Completed 200 OK in 9ms (Views: 7.5ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:44:04 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 2629ms

Sprockets::ArgumentError - require_tree argument must be a relative path
  (in /Users/mpak/www/weazero/app/assets/javascripts/application.js:20):
  sprockets (2.12.3) lib/sprockets/directive_processor.rb:310:in `process_require_tree_directive'
  sprockets (2.12.3) lib/sprockets/directive_processor.rb:167:in `block in process_directives'
  sprockets (2.12.3) lib/sprockets/directive_processor.rb:165:in `process_directives'
  sprockets (2.12.3) lib/sprockets/directive_processor.rb:99:in `evaluate'
  tilt (1.4.1) lib/tilt/template.rb:103:in `render'
  sprockets (2.12.3) lib/sprockets/context.rb:197:in `block in evaluate'
  sprockets (2.12.3) lib/sprockets/context.rb:194:in `evaluate'
  sprockets (2.12.3) lib/sprockets/processed_asset.rb:12:in `initialize'
  sprockets (2.12.3) lib/sprockets/base.rb:374:in `block in build_asset'
  sprockets (2.12.3) lib/sprockets/base.rb:395:in `circular_call_protection'
  sprockets (2.12.3) lib/sprockets/base.rb:373:in `build_asset'
  sprockets (2.12.3) lib/sprockets/index.rb:94:in `block in build_asset'
  sprockets (2.12.3) lib/sprockets/caching.rb:58:in `cache_asset'
  sprockets (2.12.3) lib/sprockets/index.rb:93:in `build_asset'
  sprockets (2.12.3) lib/sprockets/base.rb:287:in `find_asset'
  sprockets (2.12.3) lib/sprockets/index.rb:61:in `find_asset'
  sprockets (2.12.3) lib/sprockets/bundled_asset.rb:16:in `initialize'
  sprockets (2.12.3) lib/sprockets/base.rb:377:in `build_asset'
  sprockets (2.12.3) lib/sprockets/index.rb:94:in `block in build_asset'
  sprockets (2.12.3) lib/sprockets/caching.rb:58:in `cache_asset'
  sprockets (2.12.3) lib/sprockets/index.rb:93:in `build_asset'
  sprockets (2.12.3) lib/sprockets/base.rb:287:in `find_asset'
  sprockets (2.12.3) lib/sprockets/index.rb:61:in `find_asset'
  sprockets (2.12.3) lib/sprockets/environment.rb:75:in `find_asset'
  sprockets (2.12.3) lib/sprockets/base.rb:295:in `[]'
  sprockets-rails (2.2.4) lib/sprockets/rails/helper.rb:230:in `lookup_asset_for_path'
  sprockets-rails (2.2.4) lib/sprockets/rails/helper.rb:190:in `check_errors_for'
  sprockets-rails (2.2.4) lib/sprockets/rails/helper.rb:137:in `block in javascript_include_tag'
  sprockets-rails (2.2.4) lib/sprockets/rails/helper.rb:136:in `javascript_include_tag'
  app/views/layouts/application.html.erb:12:in `_app_views_layouts_application_html_erb___1920483229386803247_70203787140320'
  actionview (4.2.0) lib/action_view/template.rb:145:in `block in render'
  activesupport (4.2.0) lib/active_support/notifications.rb:166:in `instrument'
  actionview (4.2.0) lib/action_view/template.rb:333:in `instrument'
  actionview (4.2.0) lib/action_view/template.rb:143:in `render'
  actionview (4.2.0) lib/action_view/renderer/template_renderer.rb:66:in `render_with_layout'
  actionview (4.2.0) lib/action_view/renderer/template_renderer.rb:52:in `render_template'
  actionview (4.2.0) lib/action_view/renderer/template_renderer.rb:14:in `render'
  actionview (4.2.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.2.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.2.0) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.0) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.0) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.2.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.0) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack (1.6.0) lib/rack/etag.rb:24:in `call'
  rack (1.6.0) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.0) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.0) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.0) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.2.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.1.0) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.0) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  rack (1.6.0) lib/rack/content_length.rb:15:in `call'
  rack (1.6.0) lib/rack/handler/webrick.rb:89:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'



Started POST "/__better_errors/47d1cf95ce7f00b2/variables" for 127.0.0.1 at 2015-03-05 20:44:07 +0700


Started GET "/" for 127.0.0.1 at 2015-03-05 20:44:24 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 834ms (Views: 832.7ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:45:27 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 302ms (Views: 300.1ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:46:46 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 386ms (Views: 384.7ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:47:11 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 233ms (Views: 231.7ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:47:54 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 177ms (Views: 176.3ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:48:07 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 1792ms (Views: 1790.8ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:48:13 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 1745ms (Views: 1743.9ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:50:30 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 339ms (Views: 338.3ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:50:52 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 243ms (Views: 241.6ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:51:27 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 215ms (Views: 213.9ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:52:43 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 267ms (Views: 265.1ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 20:53:23 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 1917ms (Views: 1916.1ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:12:47 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 463ms (Views: 460.6ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:12:48 +0700

ActionController::RoutingError (No route matches [GET] "/api/v1/weather/New%20York"):
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.1.0) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.0) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  rack (1.6.0) lib/rack/content_length.rb:15:in `call'
  rack (1.6.0) lib/rack/handler/webrick.rb:89:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.0ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (0.0ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (13.8ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (120.2ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/_markup.html (0.5ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/style.css within layouts/inlined_string (0.5ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/_inner_console_markup.html within layouts/inlined_string (0.4ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/_prompt_box_markup.html within layouts/inlined_string (0.4ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/console.js within layouts/javascript (56.8ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/main.js within layouts/javascript (0.3ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/error_page.js within layouts/javascript (0.5ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/index.html (126.6ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:14:04 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 153ms (Views: 151.7ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:14:04 +0700

ActionController::RoutingError (No route matches [GET] "/api/v1/weather/New%20York"):
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.1.0) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.0) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  rack (1.6.0) lib/rack/content_length.rb:15:in `call'
  rack (1.6.0) lib/rack/handler/webrick.rb:89:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.2ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (0.0ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (94.3ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/_markup.html (0.5ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/style.css within layouts/inlined_string (0.4ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/_inner_console_markup.html within layouts/inlined_string (0.5ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/_prompt_box_markup.html within layouts/inlined_string (0.4ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/console.js within layouts/javascript (54.2ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/main.js within layouts/javascript (0.4ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/error_page.js within layouts/javascript (0.5ms)
  Rendered /Users/mpak/.rvm/gems/ruby-2.2.0@weazero/gems/web-console-2.1.0/lib/web_console/templates/index.html (117.9ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:14:17 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 202ms (Views: 200.5ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:14:17 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
Completed 500 Internal Server Error in 6ms

NoMethodError - undefined method `where' for CityWeather:Class:
  app/controllers/api/v1/weather_controller.rb:3:in `show'
  actionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.0) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack (1.6.0) lib/rack/etag.rb:24:in `call'
  rack (1.6.0) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.0) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.0) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.0) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.2.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.1.0) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.0) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  rack (1.6.0) lib/rack/content_length.rb:15:in `call'
  rack (1.6.0) lib/rack/handler/webrick.rb:89:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2015-03-05 21:14:50 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 175ms (Views: 174.2ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:14:50 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 7.4810ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7420ms
Completed 200 OK in 42ms (Views: 0.6ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:15:10 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6930ms
Completed 200 OK in 4ms (Views: 0.4ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:15:11 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.9990ms
Completed 200 OK in 5ms (Views: 0.7ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:15:13 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8630ms
Completed 200 OK in 4ms (Views: 0.5ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:15:15 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8090ms
Completed 200 OK in 5ms (Views: 0.7ms)
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.7590ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>4930956}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 6.8900ms
  MOPED: 127.0.0.1:27017 UPDATE       database=weazero_development collection=weathers selector={"_id"=>BSON::ObjectId('54f8568b614f4da5f2000000')} update={"$set"=>{"temp"=>{"current"=>-0.58, "min"=>-3, "max"=>0.80000000000001}}} flags=[]
                         COMMAND      database=weazero_development command={:getlasterror=>1, :w=>1} runtime: 30.9240ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>5128581}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5600ms
  MOPED: 127.0.0.1:27017 UPDATE       database=weazero_development collection=weathers selector={"_id"=>BSON::ObjectId('54f8568b614f4da5f2010000')} update={"$set"=>{"temp"=>{"current"=>-1.76, "min"=>-4, "max"=>0}}} flags=[]
                         COMMAND      database=weazero_development command={:getlasterror=>1, :w=>1} runtime: 0.5260ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.8230ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>4930956}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4510ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>5128581}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3920ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.8970ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>4930956}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4460ms
  MOPED: 127.0.0.1:27017 UPDATE       database=weazero_development collection=weathers selector={"_id"=>BSON::ObjectId('54f8568b614f4da5f2000000')} update={"$set"=>{"wind"=>{"speed"=>2.6, "deg"=>310}}} flags=[]
                         COMMAND      database=weazero_development command={:getlasterror=>1, :w=>1} runtime: 0.5360ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>5128581}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3370ms
  MOPED: 127.0.0.1:27017 UPDATE       database=weazero_development collection=weathers selector={"_id"=>BSON::ObjectId('54f8568b614f4da5f2010000')} update={"$set"=>{"wind"=>{"speed"=>5.1, "deg"=>340}}} flags=[]
                         COMMAND      database=weazero_development command={:getlasterror=>1, :w=>1} runtime: 0.3700ms
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 6.7110ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>4930956}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6530ms
  MOPED: 127.0.0.1:27017 UPDATE       database=weazero_development collection=weathers selector={"_id"=>BSON::ObjectId('54f8568b614f4da5f2000000')} update={"$set"=>{"temp"=>{"current"=>-0.67, "min"=>-2, "max"=>0.80000000000001}, "wind"=>{"speed"=>7.2, "deg"=>290}}} flags=[]
                         COMMAND      database=weazero_development command={:getlasterror=>1, :w=>1} runtime: 0.6620ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>5128581}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5250ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"opnw_id"=>1608132}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3840ms
  MOPED: 127.0.0.1:27017 INSERT       database=weazero_development collection=weathers documents=[{"_id"=>BSON::ObjectId('54f86646614f4da869000000'), "temp"=>{:current=>29.5, :min=>29, :max=>30}, "wind"=>{:speed=>3.1, :deg=>170}, "opnw_id"=>1608132, "name"=>"Changwat Nonthaburi"}] flags=[]
                         COMMAND      database=weazero_development command={:getlasterror=>1, :w=>1} runtime: 0.6690ms


Started GET "/" for 127.0.0.1 at 2015-03-05 21:21:27 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 267ms (Views: 266.2ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:21:28 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 1.3230ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7170ms
Completed 200 OK in 19ms (Views: 0.5ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:22:30 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 225ms (Views: 223.1ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:22:31 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4910ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4650ms
Completed 200 OK in 4ms (Views: 0.5ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:22:36 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7440ms
Completed 200 OK in 4ms (Views: 0.4ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:22:37 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7120ms
Completed 200 OK in 4ms (Views: 0.4ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:22:37 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5760ms
Completed 200 OK in 3ms (Views: 0.4ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:22:39 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 1.7260ms
Completed 200 OK in 7ms (Views: 0.4ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:22:40 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5430ms
Completed 200 OK in 3ms (Views: 0.3ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:22:43 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5930ms
Completed 200 OK in 3ms (Views: 0.4ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:23:24 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 381ms (Views: 379.9ms)


Started GET "/api/v1/weather/New%20York?toke3n=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:23:25 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"toke3n"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
Completed 500 Internal Server Error in 3ms

LocalJumpError - unexpected return:
  app/controllers/api/v1/application_controller.rb:5:in `block in <class:ApplicationController>'
  activesupport (4.2.0) lib/active_support/callbacks.rb:441:in `block in make_lambda'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack (1.6.0) lib/rack/etag.rb:24:in `call'
  rack (1.6.0) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.0) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.0) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.0) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.2.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.1.0) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.0) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  rack (1.6.0) lib/rack/content_length.rb:15:in `call'
  rack (1.6.0) lib/rack/handler/webrick.rb:89:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2015-03-05 21:24:56 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 171ms (Views: 168.7ms)


Started GET "/api/v1/weather/New%20York?toke3n=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:24:56 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"toke3n"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
Filter chain halted as #<Proc:0x007fb32cfeb8e8@/Users/mpak/www/weazero/app/controllers/api/v1/application_controller.rb:2> rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:25:38 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 393ms (Views: 391.4ms)


Started GET "/api/v1/weather/New%20York?toke3n=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:25:39 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"toke3n"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
Filter chain halted as #<Proc:0x007fb32cfeb8e8@/Users/mpak/www/weazero/app/controllers/api/v1/application_controller.rb:2> rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:27:10 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 307ms (Views: 305.9ms)


Started GET "/api/v1/weather/New%20York?toke3n=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:27:11 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"toke3n"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
Filter chain halted as #<Proc:0x007fb32cfeb8e8@/Users/mpak/www/weazero/app/controllers/api/v1/application_controller.rb:2> rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:27:23 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 323ms (Views: 321.8ms)


Started GET "/api/v1/weather/New%20York?toke3n=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:27:24 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"toke3n"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
Filter chain halted as #<Proc:0x007fb32cfeb8e8@/Users/mpak/www/weazero/app/controllers/api/v1/application_controller.rb:2> rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:27:43 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 355ms (Views: 353.7ms)


Started GET "/api/v1/weather/New%20York?toke3n=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:27:44 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"toke3n"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
Filter chain halted as #<Proc:0x007fb32cfeb8e8@/Users/mpak/www/weazero/app/controllers/api/v1/application_controller.rb:2> rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:50:44 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 453ms (Views: 451.9ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:50:45 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6500ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4830ms
Completed 200 OK in 16ms (Views: 0.8ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:50:54 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 170ms (Views: 169.4ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:50:54 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4570ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4600ms
Completed 200 OK in 4ms (Views: 0.4ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:50:59 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 151ms (Views: 150.2ms)


Started GET "/api/v1/weather/boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:51:00 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"boston"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4690ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.3700ms
Completed 404 Not Found in 4ms (Views: 0.2ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:51:17 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.0ms)
Completed 200 OK in 330ms (Views: 329.2ms)


Started GET "/api/v1/weather/boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:51:18 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"boston"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6150ms
Completed 404 Not Found in 4ms (Views: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-03-05 21:51:22 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 173ms (Views: 171.7ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:51:23 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.8330ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7270ms
Completed 200 OK in 6ms (Views: 0.7ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:53:27 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4930ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4930ms
Completed 200 OK in 5ms (Views: 0.5ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:53:29 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6250ms
Completed 200 OK in 4ms (Views: 0.5ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:53:31 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6520ms
Completed 200 OK in 4ms (Views: 0.4ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:54:03 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.4540ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.4510ms
Completed 200 OK in 5ms (Views: 0.4ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 21:54:05 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8470ms
Completed 200 OK in 6ms (Views: 0.5ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 22:01:22 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 COMMAND      database=admin command={:ismaster=>1} runtime: 0.6350ms
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.7040ms
Completed 200 OK in 5ms (Views: 0.5ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 22:01:24 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.6910ms
Completed 200 OK in 4ms (Views: 0.4ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 22:01:26 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"Boston"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.5680ms
Completed 200 OK in 4ms (Views: 0.5ms)


Started GET "/api/v1/weather/New%20York?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-05 22:01:29 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"New York"}
  MOPED: 127.0.0.1:27017 QUERY        database=weazero_development collection=weathers selector={"$query"=>{"name"=>"New York"}, "$orderby"=>{:_id=>1}} flags=[] limit=-1 skip=0 batch_size=nil fields=nil runtime: 0.8310ms
Completed 200 OK in 4ms (Views: 0.4ms)


Started GET "/" for 127.0.0.1 at 2015-03-06 22:22:27 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 532ms (Views: 530.9ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-06 22:22:28 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
Connection issue with rethinkdb://localhost/weazero_development - Connection refused - connect(2) for "localhost" port 28015, retrying...
[1;32m[1009.3ms] r.table("weathers").order_by({"index" => r.asc(:id)}).filter {|var_1| var_1.bracket(:name).eq("Boston")}.limit(1)[0;39m -- [0;31mErrno::ECONNREFUSED Connection refused - connect(2) for "localhost" port 28015[0m
Completed 500 Internal Server Error in 1057ms

Errno::ECONNREFUSED - Connection refused - connect(2) for "localhost" port 28015:
  rethinkdb (1.16.0.1) lib/net.rb:287:in `connect'
  rethinkdb (1.16.0.1) lib/net.rb:143:in `initialize'
  nobrainer (0.21.0) lib/no_brainer/connection.rb:30:in `raw'
  nobrainer (0.21.0) lib/no_brainer/query_runner/driver.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/reconnect.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/connection_lock.rb:8:in `block in call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/connection_lock.rb:8:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/logger.rb:4:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/table_on_demand.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/database_on_demand.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/missing_index.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/write_error.rb:4:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/run_options.rb:33:in `call'
  middleware (0.1.0) lib/middleware/runner.rb:31:in `call'
  middleware (0.1.0) lib/middleware/builder.rb:102:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner.rb:24:in `run'
  nobrainer (0.21.0) lib/nobrainer.rb:28:in `run'
  nobrainer (0.21.0) lib/no_brainer/criteria/core.rb:37:in `run'
  nobrainer (0.21.0) lib/no_brainer/criteria/first.rb:29:in `get_one'
  nobrainer (0.21.0) lib/no_brainer/criteria/eager_load.rb:43:in `get_one'
  nobrainer (0.21.0) lib/no_brainer/criteria/first.rb:5:in `first'
  nobrainer (0.21.0) lib/no_brainer/criteria/cache.rb:64:in `block (2 levels) in use_cache_for'
  app/controllers/api/v1/weather_controller.rb:3:in `show'
  actionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.0) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack (1.6.0) lib/rack/etag.rb:24:in `call'
  rack (1.6.0) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.0) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.0) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.0) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.2.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.1.0) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.0) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  rack (1.6.0) lib/rack/content_length.rb:15:in `call'
  rack (1.6.0) lib/rack/handler/webrick.rb:89:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'

[1;33m[   2.5ms] r.db_create("weazero_development")[0m
[1;33m[1228.9ms] r.table_create("weathers", {"primary_key" => :id})[0m
[1;32m[   3.1ms] r.table("weathers").get_all(4930956, {"index" => :opnw_id}).order_by( r.asc(:id)).limit(1)[0;39m -- [0;31mRethinkDB::RqlRuntimeError Index `opnw_id` was not found on table `weazero_development.weathers`.[0m
[1;33m[   5.7ms] r.table("weathers").index_status[0m
[1;33m[   1.0ms] r.table("weathers").index_create(:opnw_id) {|var_1| var_1.bracket(:opnw_id)}[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m
[1;33m[   7.0ms] r.table("weathers").index_status[0m
[1;33m[   2.2ms] r.table("weathers").index_create(:opnw_id) {|var_1| var_1.bracket(:opnw_id)}[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m
[1;33m[   2.3ms] r.table("weathers").index_status[0m
[1;33m[   2.9ms] r.table("weathers").index_create(:opnw_id) {|var_1| var_1.bracket(:opnw_id)}[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m


Started GET "/" for 127.0.0.1 at 2015-03-06 22:32:22 +0700
Processing by WeatherController#index as HTML
  Rendered weather/index.html.erb within layouts/application (0.1ms)
Completed 200 OK in 195ms (Views: 193.6ms)


Started GET "/api/v1/weather/Boston?token=ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324" for 127.0.0.1 at 2015-03-06 22:32:23 +0700
Processing by Api::V1::WeatherController#show as JSON
  Parameters: {"token"=>"ac11389b16c117fe08765b9daeef9fd5363beec11ccd620ff2a3c4324", "id"=>"Boston"}
[1;32m[   4.1ms] r.table("weathers").order_by({"index" => r.asc(:id)}).filter {|var_2| var_2.bracket(:name).eq("Boston")}.limit(1)[0;39m -- [0;31mRethinkDB::RqlDriverError MALFORMED PROTOBUF (Illegal Term type 170).[0m
Completed 500 Internal Server Error in 6ms

RethinkDB::RqlDriverError - MALFORMED PROTOBUF (Illegal Term type 170).
Backtrace:
r.table("weathers").order_by({"index" => r.asc(:id)}).filter {|var_2|
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  var_2.bracket(:name).eq("Boston")
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
}.limit(1)
^^^^^^^^^^:
  rethinkdb (1.16.0.1) lib/shim.rb:73:in `rescue in response_to_native'
  rethinkdb (1.16.0.1) lib/shim.rb:60:in `response_to_native'
  rethinkdb (1.16.0.1) lib/net.rb:194:in `run'
  rethinkdb (1.16.0.1) lib/net.rb:42:in `run'
  nobrainer (0.21.0) lib/no_brainer/query_runner/driver.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/reconnect.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/connection_lock.rb:8:in `block in call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/connection_lock.rb:8:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/logger.rb:4:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/table_on_demand.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/database_on_demand.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/missing_index.rb:3:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/write_error.rb:4:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner/run_options.rb:33:in `call'
  middleware (0.1.0) lib/middleware/runner.rb:31:in `call'
  middleware (0.1.0) lib/middleware/builder.rb:102:in `call'
  nobrainer (0.21.0) lib/no_brainer/query_runner.rb:24:in `run'
  nobrainer (0.21.0) lib/nobrainer.rb:28:in `run'
  nobrainer (0.21.0) lib/no_brainer/criteria/core.rb:37:in `run'
  nobrainer (0.21.0) lib/no_brainer/criteria/first.rb:29:in `get_one'
  nobrainer (0.21.0) lib/no_brainer/criteria/eager_load.rb:43:in `get_one'
  nobrainer (0.21.0) lib/no_brainer/criteria/first.rb:5:in `first'
  nobrainer (0.21.0) lib/no_brainer/criteria/cache.rb:64:in `block (2 levels) in use_cache_for'
  app/controllers/api/v1/weather_controller.rb:3:in `show'
  actionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.0) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  rack (1.6.0) lib/rack/etag.rb:24:in `call'
  rack (1.6.0) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.0) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.0) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.0) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  rack-contrib (1.2.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.4) lib/meta_request/middlewares/headers.rb:16:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.1.0) lib/web_console/middleware.rb:37:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.0) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.0) lib/rack/lock.rb:17:in `call'
  rack (1.6.0) lib/rack/content_length.rb:15:in `call'
  rack (1.6.0) lib/rack/handler/webrick.rb:89:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/mpak/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'

[1;32m[   6.0ms] r.table("weathers").get_all(4930956, {"index" => :opnw_id}).order_by( r.asc(:id)).limit(1)[0;39m -- [0;31mRethinkDB::RqlRuntimeError Index `opnw_id` was not found on table `weazero_development.weathers`.[0m
